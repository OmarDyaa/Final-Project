@if (order) {
<mat-card
  class="bg-white py-4 sm:py-8 shadow-md max-w-screen-lg mx-auto px-4 sm:px-6"
>
  <div class="w-full">
    <div
      class="flex flex-col sm:flex-row justify-between items-center gap-4 mb-6"
    >
      <h2 class="text-xl sm:text-2xl font-semibold">
        Order summary for order #{{ order.id }}
      </h2>
      <button (click)="onReturnClick()" mat-stroked-button>
        {{ buttonText }}
      </button>
    </div>

    <div
      class="mt-8 py-3 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-8"
    >
      <div class="space-y-4">
        <h4 class="text-lg font-semibold">Billing and delivery information</h4>
        <dl class="space-y-2">
          <dt class="font-medium">Shipping address</dt>
          <dd class="mt-1 font-light">{{ order.shippingAddress | address }}</dd>
        </dl>
        <dl class="space-y-2">
          <dt class="font-medium">Payment info</dt>
          <dd class="mt-1 font-light">
            {{ order.paymentSummary | paymentCard }}
          </dd>
        </dl>
      </div>

      <div class="space-y-4">
        <h4 class="text-lg font-semibold">Order summary</h4>
        <dl class="space-y-2">
          <div class="flex justify-between">
            <dt class="font-medium">Order status</dt>
            <dd class="font-light">{{ order.status }}</dd>
          </div>
          <div class="flex justify-between">
            <dt class="font-medium">Order date</dt>
            <dd class="font-light">{{ order.orderDate | date }}</dd>
          </div>
          <dl class="flex items-center justify-between gap-4">
            <dt class="font-medium text-gray-500">Discount</dt>
            <dd class="font-medium text-green-500">
            -{{order.discount | currency}}
            </dd>
            </dl>
          <div class="flex justify-between">
            <dt class="font-medium">Order total</dt>
            <dd class="font-medium">{{ order.total | currency }}</dd>
          </div>
        </dl>
      </div>
    </div>

    <div class="mt-8 overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Product
            </th>
            <th
              class="p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Price
            </th>
            <th
              class="p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Quantity
            </th>
            <th
              class="p-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Total
            </th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          @for (item of order.orderItems; track item.productId) {
          <tr>
            <td class="p-4">
              <div class="flex items-center space-x-3">
                <img
                  src="{{ item.pictureUrl }}"
                  alt="{{ item.productName }}"
                  class="h-16 w-16 object-cover rounded"
                />
                <span class="text-sm sm:text-base">{{ item.productName }}</span>
              </div>
            </td>
            <td class="p-4 text-sm sm:text-base">
              {{ item.price | currency }}
            </td>
            <td class="p-4 text-sm sm:text-base">{{ item.quantity }}</td>
            <td class="p-4 text-right text-sm sm:text-base">
              {{ item.price * item.quantity | currency }}
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</mat-card>
}
